(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{1321:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/components/DownloadButton",function(){return n(7557)}])},2588:function(t,e,n){"use strict";n.d(e,{u:function(){return o}});let o=t=>{if(!t.width||!t.height)return null;let e=document.createElement("canvas");e.width=t.width,e.height=t.height;let n=e.getContext("2d");return n?(n.imageSmoothingEnabled=!0,n.imageSmoothingQuality="high",n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),e):null}},7557:function(t,e,n){"use strict";n.r(e);var o=n(5893),i=n(7294),l=n(2588);e.default=t=>{let{from:e,to:n,canvasRef:r,onReset:a}=t,[u,c]=(0,i.useState)(!1),d=(0,i.useRef)(null),s=async()=>{var t;let o=r.current;if(!o)return;c(!0);let i="invitation-from-".concat(encodeURIComponent(e),"-to-").concat(encodeURIComponent(n),".png"),a=null!==(t=(0,l.u)(o))&&void 0!==t?t:o,u=(t,e)=>{let n=d.current,o=null!=n?n:document.createElement("a"),l=!n;o.href=t,o.download=i,l&&(o.style.display="none",document.body.appendChild(o)),o.click(),window.requestAnimationFrame(()=>{o.removeAttribute("href"),o.removeAttribute("download"),null==e||e(),l&&o.remove()})};if(a.toBlob){a.toBlob(t=>{if(!t){c(!1);return}let e=URL.createObjectURL(t);u(e,()=>URL.revokeObjectURL(e)),c(!1)},"image/png");return}u(a.toDataURL("image/png")),c(!1)};return(0,o.jsxs)("div",{className:"download-actions",children:[(0,o.jsx)("button",{className:"btn btn-save".concat(u?" btn-disabled":""),type:"button",disabled:u,onClick:s,children:u?"저장 중...":"저장하기"}),(0,o.jsx)("button",{className:"btn btn-retry",type:"button",onClick:()=>{c(!1),a()},children:"다시하기"}),(0,o.jsx)("a",{ref:d,style:{display:"none"}})]})}}},function(t){t.O(0,[888,774,179],function(){return t(t.s=1321)}),_N_E=t.O()}]);