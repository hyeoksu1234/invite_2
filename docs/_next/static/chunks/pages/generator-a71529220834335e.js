(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{2329:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/generator",function(){return n(6695)}])},2588:function(e,t,n){"use strict";n.d(t,{u:function(){return a}});let a=e=>{if(!e.width||!e.height)return null;let t=document.createElement("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");return n?(n.imageSmoothingEnabled=!0,n.imageSmoothingQuality="high",n.drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),t):null}},7557:function(e,t,n){"use strict";n.r(t);var a=n(5893),i=n(7294),l=n(2588);t.default=e=>{let{from:t,to:n,canvasRef:r,onReset:s}=e,[o,c]=(0,i.useState)(!1),d=(0,i.useRef)(null),u=async()=>{var e;let a=r.current;if(!a)return;c(!0);let i="invitation-from-".concat(encodeURIComponent(t),"-to-").concat(encodeURIComponent(n),".png"),s=null!==(e=(0,l.u)(a))&&void 0!==e?e:a,o=(e,t)=>{let n=d.current,a=null!=n?n:document.createElement("a"),l=!n;a.href=e,a.download=i,l&&(a.style.display="none",document.body.appendChild(a)),a.click(),window.requestAnimationFrame(()=>{a.removeAttribute("href"),a.removeAttribute("download"),null==t||t(),l&&a.remove()})};if(s.toBlob){s.toBlob(e=>{if(!e){c(!1);return}let t=URL.createObjectURL(e);o(t,()=>URL.revokeObjectURL(t)),c(!1)},"image/png");return}o(s.toDataURL("image/png")),c(!1)};return(0,a.jsxs)("div",{className:"download-actions",children:[(0,a.jsx)("button",{className:"btn btn-save".concat(o?" btn-disabled":""),type:"button",disabled:o,onClick:u,children:o?"저장 중...":"저장하기"}),(0,a.jsx)("button",{className:"btn btn-retry",type:"button",onClick:()=>{c(!1),s()},children:"다시하기"}),(0,a.jsx)("a",{ref:d,style:{display:"none"}})]})}},1943:function(e,t,n){"use strict";n.r(t);var a=n(5893),i=n(7294),l=n(1163);let r='"rixdongnimgothic-pro","tk-rixdongnimgothic-pro",sans-serif';t.default=e=>{let{from:t,to:n,canvasRef:s,className:o,imageSrc:c="/invitation_2.svg"}=e,{basePath:d}=(0,l.useRouter)(),u=(0,i.useCallback)(e=>{let t=e.startsWith("/")?e:"/".concat(e);return"".concat(null!=d?d:"").concat(t)},[d]),[h,m]=(0,i.useState)(!1),[g,x]=(0,i.useState)(null),[f,p]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=!0;m(!1),x(null);let t=new Image;return t.crossOrigin="anonymous",t.onload=()=>{e&&(p(t),x(null))},t.onerror=()=>{e&&(p(null),m(!1),x("초대장 이미지를 불러오지 못했습니다."))},(async()=>{var e;if(document.fonts&&"ready"in document.fonts)try{await document.fonts.ready}catch(e){}if(null===(e=document.fonts)||void 0===e?void 0:e.load)try{await Promise.all([document.fonts.load("700 36px rixdongnimgothic-pro"),document.fonts.load("700 36px 'rixdongnimgothic-pro'"),document.fonts.load("700 36px 'tk-rixdongnimgothic-pro'")])}catch(e){}})().finally(()=>{t.src=u(c)}),()=>{e=!1}},[u,c]),(0,i.useEffect)(()=>{let e=s.current,a=null==e?void 0:e.getContext("2d");if(!e||!a||!f)return;let i=()=>{let i=function(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.82,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:900,o=t.trim();if(!o)return;let c=Math.round(e.height*n),d=Math.min(.98*e.width,e.width*l),u=e=>{a.font="700 ".concat(e,"px ").concat(r);let t=a.measureText(o);return t.actualBoundingBoxRight-t.actualBoundingBoxLeft||t.width},h=48,m=Math.max(48,s),g=48;for(;h<=m;){let e=Math.floor((h+m)/2);u(e)<=d?(g=e,h=e+2):m=e-2}let x=Math.min(g,s);a.font="700 ".concat(x,"px ").concat(r),a.textAlign="center",a.textBaseline="middle",a.fillStyle="#121212";let f=e.width/2+i;a.fillText(o,f,c)};a.drawImage(f,0,0,e.width,e.height),i(n,.12431693989071038,-25,.94,900),i(t,.5628415300546448,50,.9,820)},l=null,o=()=>{let t=e.getBoundingClientRect(),n=Math.max(1,window.devicePixelRatio||1),l=Math.max(1024,Math.min(1024,Math.round((t.width||f.width)*n)||1024)),r=Math.max(1,Math.round(l*(f.naturalHeight&&f.naturalWidth?f.naturalHeight/f.naturalWidth:1.4296875)));(e.width!==l||e.height!==r)&&(e.width=l,e.height=r);let s=t.width||l/n,o=r/l*s;e.style.width="".concat(s,"px"),e.style.height="".concat(o,"px"),a.clearRect(0,0,e.width,e.height),i(),m(!0),x(null)};o();let c="undefined"!=typeof ResizeObserver?new ResizeObserver(()=>{l&&cancelAnimationFrame(l),l=window.requestAnimationFrame(o)}):null;null==c||c.observe(e);let d=()=>{l&&cancelAnimationFrame(l),l=window.requestAnimationFrame(o)};return window.addEventListener("resize",d),()=>{null==c||c.disconnect(),l&&cancelAnimationFrame(l),window.removeEventListener("resize",d)}},[s,t,n,f]),(0,a.jsxs)("div",{className:"invitation-wrapper",children:[!h&&(0,a.jsx)("div",{className:"canvas-status",children:null!=g?g:"초대장 이미지를 불러오는 중입니다..."}),(0,a.jsx)("canvas",{ref:s,className:null!=o?o:"invitation-canvas"})]})}},6695:function(e,t,n){"use strict";n.r(t);var a=n(5893),i=n(7294),l=n(1943),r=n(7557);t.default=()=>{let[e,t]=(0,i.useState)(""),[n,s]=(0,i.useState)(""),[o,c]=(0,i.useState)(!1),d=(0,i.useRef)(null),u=(0,i.useMemo)(()=>e.trim().length>0&&n.trim().length>0,[e,n]);return(0,a.jsx)("main",{className:"generator",children:(0,a.jsxs)("div",{className:"generator-shell",children:[(0,a.jsxs)("div",{className:"generator-confetti",children:[(0,a.jsx)("span",{className:"mint"}),(0,a.jsx)("span",{className:"sun"}),(0,a.jsx)("span",{className:"sky"})]}),(0,a.jsxs)("div",{className:"generator-body",children:[(0,a.jsxs)("header",{className:"generator-header",children:[(0,a.jsx)("p",{children:"상명대학교 디자인대학"}),(0,a.jsxs)("h1",{children:["커뮤니케이션디자인전공",(0,a.jsx)("br",{}),"제38회 졸업전시회"]}),(0,a.jsx)("span",{children:"[ Invitation Card ]"})]}),!o&&(0,a.jsxs)("form",{className:"generator-form",onSubmit:e=>{e.preventDefault(),u&&c(!0)},children:[(0,a.jsxs)("div",{className:"generator-fields",children:[(0,a.jsxs)("label",{className:"generator-field",children:[(0,a.jsx)("span",{className:"generator-field-label",children:"초대장을 받는 분"}),(0,a.jsxs)("div",{className:"generator-field-content",children:[(0,a.jsx)("span",{className:"generator-field-title",children:"To."}),(0,a.jsx)("input",{className:"generator-input",maxLength:20,placeholder:"(입력하세요)",value:n,onChange:e=>s(e.target.value)})]})]}),(0,a.jsxs)("label",{className:"generator-field",children:[(0,a.jsx)("span",{className:"generator-field-label",children:"초대장을 보내는 분"}),(0,a.jsxs)("div",{className:"generator-field-content",children:[(0,a.jsx)("span",{className:"generator-field-title",children:"From."}),(0,a.jsx)("input",{className:"generator-input",maxLength:20,placeholder:"(입력하세요)",value:e,onChange:e=>t(e.target.value)})]})]})]}),(0,a.jsxs)("button",{className:"btn btn-primary btn-create".concat(u?"":" btn-disabled"),type:"submit",disabled:!u,children:["초대장 만들기 ",(0,a.jsx)("span",{className:"arrow",children:"➜"})]})]}),o&&(0,a.jsxs)("section",{className:"generator-preview",children:[(0,a.jsxs)("article",{className:"preview-card",children:[(0,a.jsxs)("div",{className:"preview-text",children:[(0,a.jsx)("p",{className:"preview-label",children:"To."}),(0,a.jsx)("p",{children:"2025학년도 상명대학교 디자인대학 커뮤니케이션디자인전공 졸업전시회에 초대합니다."})]}),(0,a.jsx)(l.default,{from:e,to:n,canvasRef:d,className:"preview-canvas"}),(0,a.jsxs)("div",{className:"preview-details",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"From."})," ",e]}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"2025.11.14(fri) - 11.18(tue)"})}),(0,a.jsx)("p",{children:"더 서울라이티움 제1전시장"}),(0,a.jsx)("p",{children:"Opening | 11.14 17:00"}),(0,a.jsx)("p",{children:"관람시간 | 평일 17:00 - 19:00, 토\xb7일 11:00 - 19:00"})]})]}),(0,a.jsx)(r.default,{from:e,to:n,canvasRef:d,onReset:()=>{t(""),s(""),c(!1);let e=d.current,n=null==e?void 0:e.getContext("2d");e&&n&&n.clearRect(0,0,e.width,e.height)}})]})]}),(0,a.jsxs)("footer",{className:"generator-footer",children:[(0,a.jsx)("p",{children:"@smucd2025"}),(0,a.jsx)("p",{children:"smucd2025.com"})]})]})})}},1163:function(e,t,n){e.exports=n(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2329)}),_N_E=e.O()}]);