(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{2329:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/generator",function(){return n(6695)}])},7557:function(e,t,n){"use strict";n.r(t);var a=n(5893),s=n(7294);t.default=e=>{let{from:t,to:n,canvasRef:r,onReset:l}=e,[i,c]=(0,s.useState)(!1),o=(0,s.useRef)(null),d=async()=>{var e;let a=r.current;if(!a)return;c(!0);let s="invitation-from-".concat(encodeURIComponent(t),"-to-").concat(encodeURIComponent(n),".png");if(a.toBlob){a.toBlob(e=>{var t;if(!e){c(!1);return}let n=URL.createObjectURL(e),a=null!==(t=o.current)&&void 0!==t?t:document.createElement("a");a.href=n,a.download=s,o.current||document.body.appendChild(a),a.click(),URL.revokeObjectURL(n),c(!1)});return}let l=a.toDataURL("image/png"),i=null!==(e=o.current)&&void 0!==e?e:document.createElement("a");i.href=l,i.download=s,o.current||document.body.appendChild(i),i.click(),c(!1)};return(0,a.jsxs)("div",{className:"download-actions",children:[(0,a.jsx)("button",{className:"btn btn-save".concat(i?" btn-disabled":""),type:"button",disabled:i,onClick:d,children:i?"저장 중...":"저장하기"}),(0,a.jsx)("button",{className:"btn btn-retry",type:"button",onClick:()=>{c(!1),l()},children:"다시하기"}),(0,a.jsx)("a",{ref:o,style:{display:"none"}})]})}},1943:function(e,t,n){"use strict";n.r(t);var a=n(5893),s=n(7294),r=n(1163);let l='"rixdongnimgothic-pro","tk-rixdongnimgothic-pro",sans-serif';t.default=e=>{let{from:t,to:n,canvasRef:i,className:c}=e,{basePath:o}=(0,r.useRouter)(),d=(0,s.useCallback)(e=>{let t=e.startsWith("/")?e:"/".concat(e);return"".concat(null!=o?o:"").concat(t)},[o]),[u,h]=(0,s.useState)(!1),[m,x]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=!0,a=i.current,s=null==a?void 0:a.getContext("2d");if(!a||!s)return;h(!1),x(null);let r=new Image;return r.crossOrigin="anonymous",r.onload=()=>{if(!e)return;a.width=r.width,a.height=r.height,s.clearRect(0,0,a.width,a.height),s.drawImage(r,0,0);let i=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.trim();if(!r)return;let i=Math.round(a.height*t),c=.6*a.width,o=Math.round(36*a.width/1024),d=e=>(s.font="700 ".concat(e,"px ").concat(l),s.measureText(r).width),u=d(o=Math.max(24,Math.min(44,o)));for(;u>c&&o>24;)o-=2,u=d(o);s.font="700 ".concat(o,"px ").concat(l),s.textAlign="center",s.textBaseline="middle",s.fillStyle="#121212";let h=a.width/2+n;s.fillText(r,h,i)};i(n,.12431693989071038,-25),i(t,.5628415300546448,50),h(!0),x(null)},r.onerror=()=>{e&&(h(!1),x("초대장 이미지를 불러오지 못했습니다."))},(async()=>{var e;if(document.fonts&&"ready"in document.fonts&&await document.fonts.ready,null===(e=document.fonts)||void 0===e?void 0:e.load)try{await Promise.all([document.fonts.load("700 36px rixdongnimgothic-pro"),document.fonts.load("700 36px 'rixdongnimgothic-pro'"),document.fonts.load("700 36px 'tk-rixdongnimgothic-pro'")])}catch(e){}r.src=d("/result.png")})(),()=>{e=!1}},[d,t,n,i]),(0,a.jsxs)("div",{className:"invitation-wrapper",children:[!u&&(0,a.jsx)("div",{className:"canvas-status",children:null!=m?m:"초대장 이미지를 불러오는 중입니다..."}),(0,a.jsx)("canvas",{ref:i,className:null!=c?c:"invitation-canvas"})]})}},6695:function(e,t,n){"use strict";n.r(t);var a=n(5893),s=n(7294),r=n(1943),l=n(7557);t.default=()=>{let[e,t]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[c,o]=(0,s.useState)(!1),d=(0,s.useRef)(null),u=(0,s.useMemo)(()=>e.trim().length>0&&n.trim().length>0,[e,n]);return(0,a.jsx)("main",{className:"generator",children:(0,a.jsxs)("div",{className:"generator-shell",children:[(0,a.jsxs)("div",{className:"generator-confetti",children:[(0,a.jsx)("span",{className:"mint"}),(0,a.jsx)("span",{className:"sun"}),(0,a.jsx)("span",{className:"sky"})]}),(0,a.jsxs)("div",{className:"generator-body",children:[(0,a.jsxs)("header",{className:"generator-header",children:[(0,a.jsx)("p",{children:"상명대학교 디자인대학"}),(0,a.jsxs)("h1",{children:["커뮤니케이션디자인전공",(0,a.jsx)("br",{}),"제38회 졸업전시회"]}),(0,a.jsx)("span",{children:"[ Invitation Card ]"})]}),!c&&(0,a.jsxs)("form",{className:"generator-form",onSubmit:e=>{e.preventDefault(),u&&o(!0)},children:[(0,a.jsxs)("div",{className:"generator-fields",children:[(0,a.jsxs)("label",{className:"generator-field",children:[(0,a.jsx)("span",{className:"generator-field-label",children:"초대장을 받는 분"}),(0,a.jsxs)("div",{className:"generator-field-content",children:[(0,a.jsx)("span",{className:"generator-field-title",children:"To."}),(0,a.jsx)("input",{className:"generator-input",maxLength:20,placeholder:"(입력하세요)",value:n,onChange:e=>i(e.target.value)})]})]}),(0,a.jsxs)("label",{className:"generator-field",children:[(0,a.jsx)("span",{className:"generator-field-label",children:"초대장을 보내는 분"}),(0,a.jsxs)("div",{className:"generator-field-content",children:[(0,a.jsx)("span",{className:"generator-field-title",children:"From."}),(0,a.jsx)("input",{className:"generator-input",maxLength:20,placeholder:"(입력하세요)",value:e,onChange:e=>t(e.target.value)})]})]})]}),(0,a.jsxs)("button",{className:"btn btn-primary btn-create".concat(u?"":" btn-disabled"),type:"submit",disabled:!u,children:["초대장 만들기 ",(0,a.jsx)("span",{className:"arrow",children:"➜"})]})]}),c&&(0,a.jsxs)("section",{className:"generator-preview",children:[(0,a.jsxs)("article",{className:"preview-card",children:[(0,a.jsxs)("div",{className:"preview-text",children:[(0,a.jsx)("p",{className:"preview-label",children:"To."}),(0,a.jsx)("p",{children:"2025학년도 상명대학교 디자인대학 커뮤니케이션디자인전공 졸업전시회에 초대합니다."})]}),(0,a.jsx)(r.default,{from:e,to:n,canvasRef:d,className:"preview-canvas"}),(0,a.jsxs)("div",{className:"preview-details",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"From."})," ",e]}),(0,a.jsx)("p",{children:(0,a.jsx)("strong",{children:"2025.11.14(fri) - 11.18(tue)"})}),(0,a.jsx)("p",{children:"더 서울라이티움 제1전시장"}),(0,a.jsx)("p",{children:"Opening | 11.14 17:00"}),(0,a.jsx)("p",{children:"관람시간 | 평일 17:00 - 19:00, 토\xb7일 11:00 - 19:00"})]})]}),(0,a.jsx)(l.default,{from:e,to:n,canvasRef:d,onReset:()=>{t(""),i(""),o(!1);let e=d.current,n=null==e?void 0:e.getContext("2d");e&&n&&n.clearRect(0,0,e.width,e.height)}})]})]}),(0,a.jsxs)("footer",{className:"generator-footer",children:[(0,a.jsx)("p",{children:"@smucd2025"}),(0,a.jsx)("p",{children:"smucd2025.com"})]})]})})}},1163:function(e,t,n){e.exports=n(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=2329)}),_N_E=e.O()}]);