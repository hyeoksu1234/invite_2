# Graduation Invitation Generator — 제품 요구사항서(PRD) v1.2

## 1. 개요
- **프로젝트명:** Graduation Invitation Generator  
- **목적:** 사용자가 본인 이름과 초대할 사람의 이름을 입력하면 전시용 초대장 템플릿 위에 자동 배치하여 즉시 다운로드 가능한 맞춤 초대장을 제공한다.  
- **핵심 메시지:** “당신의 이름이 들어간 순간, 전시의 초대가 완성된다.”  
- **활용 맥락:** 2025년 상명대학교 커뮤니케이션디자인학과 졸업전시 디지털 초대장.

## 2. 목표
| 구분 | 목표 |
| --- | --- |
| 이미지 퍼스널라이징 | 기존 초대장 PNG 템플릿 위에 발신자/수신자 이름 텍스트를 고정 좌표에 배치한다. |
| 간편 다운로드 | 브라우저에서 고해상도 PNG(또는 JPG)로 즉시 내보낼 수 있다. |
| 즉시 접근 | 설치 없이 모바일·PC 브라우저에서 바로 이용할 수 있다. |
| 디자인 일관성 | 템플릿, 폰트, 좌표, 색상을 고정하여 시각적 일관성을 유지한다. |
| 공유성 강화 | 사전 입력된 이름을 포함한 딥링크 및 SNS 친화형 버전을 옵션으로 지원한다. |

## 3. 성공 지표
- 생성된 초대장 100%가 정의된 좌표, 폰트, 색상 규격을 충족한다.
- 대상 기기(최근 iOS/Android, 최신 데스크톱 브라우저)에서 3초 이내로 이미지가 내보내진다.
- 주요 브라우저(Chrome, Safari, Edge, 모바일 Safari/Chrome) QA 케이스의 90% 이상이 레이아웃 문제 없이 통과한다.
- 옵션인 URL 공유 기능 사용 시 파라미터를 통해 양식이 자동으로 채워진다.

## 4. 범위
**포함 범위**
- 랜딩, 입력, 미리보기, 다운로드를 포함한 단일 플로우.
- Pretendard Bold를 사용한 Canvas 기반 텍스트 렌더링(규정된 크기·색상).
- `toBlob()` 등 브라우저 API를 활용한 클라이언트 사이드 다운로드.
- 모바일 세로 화면과 데스크톱을 고려한 반응형 레이아웃.
- 쿼리 파라미터 기반의 딥링크 처리(옵션).

**제외 범위 (v1.0)**
- 생성된 초대장이나 로그를 서버에 저장하는 기능.
- QR 코드 삽입, AI 문구 제안, 자동 SNS 리사이즈(v2.0 예정).
- 인증 및 사용자 계정 시스템.

## 5. 사용자 세그먼트 및 니즈
- **전시 참가자:** 자신의 이름이 담긴 브랜드 초대장을 만들어 지인과 공유하고 싶다.
- **초대받는 사람:** 공식적이고 개인화된 메시지를 즉시 저장하거나 공유하고 싶다.
- **기획자/운영자:** 수작업 없이도 일관된 시각 정체성을 유지하고 싶다.

## 6. 사용자 여정
1. **랜딩 페이지:** 전시 메인 이미지 또는 포스터 노출, 명확한 CTA(“초대장 만들기”).
2. **이름 입력:** 발신자와 수신자 이름 입력 필드, 접근성 레이블, “초대장 생성” 버튼.
3. **미리보기:** Canvas 상에서 실시간으로 텍스트가 반영된 초대장을 보여주고 “다시 입력”, “다운로드” 버튼 제공.
4. **다운로드:** PNG로 저장(기본 파일명 `invitation-from-{from}-to-{to}.png` 등). 옵션으로 “링크 복사” 버튼에서 미리 채워진 URL을 복사.

## 7. 기능 요구 사항
### 7.1 초대장 렌더링
- `/public/invitation.png`(300 DPI, A5 또는 1080x1920)를 로드하고 캐시 헤더 적용.
- 원본 이미지 크기와 동일한 `<canvas>`에 템플릿을 그린다(1:1 픽셀 비율).
- 수신자 텍스트(예: `가영 님께`)를 상단 중앙, 발신자 텍스트(`From. 혁수`)를 하단 중앙에 고정 좌표로 표시(예: `(img.width/2, img.height*0.75)`와 `(img.width/2, img.height*0.83)`).
- 폰트: Pretendard Bold, 36~48px(시안 후 최종 확정), 색상 `#FFFFFF`, `textAlign="center"`.
- 렌더링 전 `document.fonts.ready` 또는 `FontFace` API로 폰트 로딩 완료를 확인한다.

### 7.2 입력 및 검증
- 발신자(`from`), 수신자(`to`) 필수 입력, 각 20자 이내.
- 입력값 트리밍 및 스크립트 인젝션 방지 위한 특수문자 이스케이프 처리.
- 양식 검증 상태를 인라인으로 제공하고 필드가 유효할 때만 “초대장 생성” 버튼 활성화.

### 7.3 미리보기 및 상태 관리
- React 상태로 이름을 관리하며 변경 시 미리보기를 즉시 갱신한다.
- 페이지 새로고침 없이 다시 입력할 수 있는 경로 제공.
- 템플릿 이미지나 폰트가 준비되지 않았을 경우 로딩 인디케이터 노출.

### 7.4 다운로드
- `canvas.toBlob()`(`image/png`) 사용, 미지원 시 `toDataURL`로 대체하고 `URL.createObjectURL` 통해 다운로드 트리거.
- 다운로드 파일명에 발신자·수신자 이름을 포함한다.
- iOS Safari 호환성 검증(직접 다운로드 차단 시 새 탭 열기 등 대안을 제공).

### 7.5 공유 기능(옵션)
- `/invite?from=혁수&to=가영` 형태의 URL을 지원하며 존재 시 입력 필드 자동 채움.
- “링크 복사” 버튼에서 Clipboard API를 사용하고 실패 시 대체 안내 제공.
- 한글 파라미터에 대비한 URL 인코딩/디코딩 처리.

## 8. 비기능 요구 사항
- **성능:** 렌더링 및 다운로드가 대상 기기에서 3초 이내에 완료되도록 최소 자산만 지연 로드한다.
- **신뢰성:** 템플릿 이미지나 폰트 로드 실패 시 사용자에게 오류 상태를 안내한다.
- **접근성:** 입력 필드 레이블, 키보드 접근성, 텍스트 대비 등 WCAG AA 기준을 충족한다.
- **국제화:** 기본 언어는 한국어로 제공하되 향후 다국어 확장을 위해 문자열을 중앙 관리한다.

## 9. 기술 스택 및 아키텍처
- **프레임워크:** Next.js 14(App Router), React 19.
- **스타일:** Tailwind CSS 기반 유틸리티 스타일링.
- **모션:** 단계 전환 시 Framer Motion을 활용한 미세 인터랙션.
- **렌더링:** Canvas API를 기본으로 사용하고 복잡한 텍스트 변형이 필요할 때 Fabric.js를 검토한다.
- **다운로드:** 기본적으로 `toBlob()` + `URL.createObjectURL`, 브라우저 호환 이슈 발생 시 FileSaver.js 고려.
- **폰트 제공:** Pretendard 일부 서브셋을 자체 호스팅 또는 CDN 통해 배포(CORS 헤더 확인).
- **배포:** Vercel(프로덕션 및 프리뷰).
- **선택 저장소:** 향후 분석을 위해 Supabase Storage/DB 연동 가능.

## 10. 디자인 명세
- 템플릿: A5 비율 PNG, 300 DPI, 필요 시 투명 여백 유지.
- 텍스트 배치: 수신자 이름을 상단 중앙, 발신자 이름을 하단 중앙에 배치하며 정확한 좌표는 디자인 문서에 기록.
- 타이포그래피: Pretendard Bold 36px(시각 QA 후 조정 가능), 색상 `#FFFFFF`, 자간은 디자인 시안과 동일하게 유지.
- 레이아웃: 중앙 정렬, 반응형 스케일링, 템플릿과 조화를 이루는 배경 색상.
- 버튼: 대비되는 색상의 기본 CTA, 최소 터치 높이 44px.
- 모바일: 원본 비율을 유지하면서 CSS `object-fit: contain` 등으로 캔버스 크기를 조정하되 해상도는 유지.

## 11. 분석 및 로그(옵션)
- 클라이언트 분석 도구(Vercel Analytics, Plausible 등)를 통해 다운로드·공유 횟수를 추적한다.
- 향후 Supabase에 익명화된 이름 사용 통계를 저장해 전시 인사이트 확보를 고려한다.

## 12. 로드맵
- **v1.0 (MVP):** 핵심 퍼스널라이징, 미리보기, 다운로드, 선택적 링크 공유.
- **v2.0 확장:** QR 코드 삽입, 다국어 지원, AI 문구 생성, 자동 SNS 포맷 변환.

## 13. 일정(목표)
| 기간 | 마일스톤 |
| --- | --- |
| 10월 3주차 | 기획 확정 및 템플릿·타이포 확인 |
| 10월 4주차 | Canvas 렌더링 및 다운로드 플로우 구현 |
| 10월 5주차 | 주요 기기 QA 완료 및 프로덕션 도메인 배포 |
| 11월 1주차 | SNS 홍보 소재 제작 및 캠페인 시작 |

## 14. 위험 요소 및 대응
- **폰트 로딩 지연:** 폰트 준비 전 렌더링 시 폴백 폰트가 보일 수 있음 → 렌더링을 폰트 로딩 완료 후 수행하고 로딩 상태를 표시한다.  
- **모바일 Safari 다운로드 제한:** 직접 다운로드가 차단될 수 있음 → 새 탭 열기 등 대체 저장 방식을 제공한다.  
- **고해상도 캔버스 성능 저하:** 저사양 기기에서 렌더링이 느릴 수 있음 → 1080x1920 기준으로 테스트하고 리렌더 최소화.  
- **React 19 안정성 이슈:** 실험적 기능 사용 시 위험 → 안정 버전 고정 또는 사전 호환성 검증.  
- **좌표 변경 위험:** 디자인 수정 시 수동 좌표 보정 필요 → 좌표 문서화 및 템플릿 수정 시 즉시 업데이트.

## 15. 오픈 이슈
- 디자인 팀으로부터 최종 템플릿 크기와 정확 좌표 확인 필요.
- Pretendard를 자체 호스팅할지 CDN을 사용할지 결정(라이선스 및 성능 고려).
- v1.0에서 분석 데이터 수집 여부를 확정해야 함.
- 다운로드 파일명에 한글을 그대로 사용할지, 로마자 표기로 변환할지 결정 필요.

## 16. 승인 체크리스트
- [ ] 디자인 리더의 템플릿 에셋 승인.
- [ ] 프로덕션 템플릿 기준 텍스트 좌표 검증.
- [ ] 데스크톱·모바일 교차 브라우저 QA 완료.
- [ ] 접근성 검토(키보드, 스크린 리더 레이블) 진행.
- [ ] Vercel 배포 파이프라인 및 환경 설정 완료.
